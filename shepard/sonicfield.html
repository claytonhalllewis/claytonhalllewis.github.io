<html>
<head> 
<title>electric field sonification</title>
<script src="cursorPosition.js"></script>
<script src="computeField.js"></script>
<script src="drawField.js"></script>
<script src="sonify.js"></script>
<script src="maketone.js"></script>
<script type="text/javascript">

var running="never";
function run()
{	//alert("running");
	//playTone(400, 1);
	//setTimeout("playTone(400,.5)",kDelay);
        //setTimeout("playTone(400,.25)",2*kDelay);
        //setTimeout("playTone(400,1)",3*kDelay);
	if (running=="never") //have not run before
        {
		running=false;
		//when app starts, lock mousepointer
		var c = document.getElementById("myCanvas");
		c.requestPointerLock = c.requestPointerLock ||
           	c.mozRequestPointerLock ||
           	c.webkitRequestPointerLock;
		c.requestPointerLock();
         }

	running=!running;

	sonifyField();
}
//<input type="text" size="2" maxlength="1" onkeyup="adjDelay(event); this.select()" />
//use above with this fn to tweak delay while running
function handleKey(e){
    var unicode=e.keyCode? e.keyCode : e.charCode;
    if (unicode==32)//space
    {
	run();
    }
    if (unicode==114)//r
    {
	//alert("reset");
	resetProbe();
    }
    if (unicode==112)//p
    {
	//alert("announce");
	announcePosition();
    }
   
}
document.onkeypress=handleKey;

</script>
</head>
<body>

<canvas style="border:1px solid blue" id="myCanvas" width="400" height="400" onmousemove="updateCursor(event);" > </canvas>


Press space to toggle an audio representation of the electric field produced by a moving charge, at the location of a movable probe that you control. The loudness of the tone codes field amplitude. The orientation of the field is coded by pitch; the pitch rises as the orientation ranges clockwise. Use the mouse to move the probe. Press p to hear the coordinates of the probe. Press r to reset the probe to the center of the field. Press esc to regain control of your cursor!


</body>
</html>